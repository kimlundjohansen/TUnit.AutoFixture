# TUnit.AutoFixture

A streamlined, xUnit-compatible AutoFixture integration for TUnit - the modern .NET testing framework.

[![Build Status](https://github.com/kimlundjohansen/TUnit.AutoFixture/workflows/CI/badge.svg)](https://github.com/kimlundjohansen/TUnit.AutoFixture/actions)
[![NuGet](https://img.shields.io/nuget/v/TUnit.AutoFixture.svg)](https://www.nuget.org/packages/TUnit.AutoFixture/)
[![NuGet Downloads](https://img.shields.io/nuget/dt/TUnit.AutoFixture.svg)](https://www.nuget.org/packages/TUnit.AutoFixture/)
[![GitHub Release](https://img.shields.io/github/v/release/kimlundjohansen/TUnit.AutoFixture)](https://github.com/kimlundjohansen/TUnit.AutoFixture/releases)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## Features

- **xUnit-Compatible Naming** - Use `[AutoData]` and `[InlineAutoData]` just like in xUnit.AutoFixture
- **Seamless Migration** - Drop-in replacement for teams migrating from xUnit to TUnit
- **Frozen Parameters** - Full support for `[Frozen]` attribute with 5 matching strategies
- **NSubstitute Integration** - Auto-mocking with `[AutoNSubstituteData]`
- **Comprehensive Tests** - 48 passing tests demonstrating all features

## Packages

| Package | Description | NuGet |
|---------|-------------|-------|
| **TUnit.AutoFixture** | Core library for auto-generating test data | [![NuGet](https://img.shields.io/nuget/v/TUnit.AutoFixture.svg)](https://www.nuget.org/packages/TUnit.AutoFixture/) |
| **TUnit.AutoFixture.NSubstitute** | NSubstitute auto-mocking integration | [![NuGet](https://img.shields.io/nuget/v/TUnit.AutoFixture.NSubstitute.svg)](https://www.nuget.org/packages/TUnit.AutoFixture.NSubstitute/) |

## Latest Release

**Version 1.0.0** - Initial Stable Release (2026-01-21)

### What's New in 1.0.0

- ‚úÖ **[AutoData]** attribute for automatic test data generation
- ‚úÖ **[InlineAutoData]** for combining explicit and auto-generated parameters
- ‚úÖ **[Frozen]** attribute with 5 matching strategies (ExactType, ImplementedInterfaces, DirectBaseType, BaseType, MemberOfFamily)
- ‚úÖ **NSubstitute integration** with [AutoNSubstituteData] and [InlineAutoNSubstituteData]
- ‚úÖ **xUnit-compatible naming** - seamless migration from xUnit.AutoFixture
- ‚úÖ **Zero warnings** - strict StyleCop and SonarAnalyzer compliance
- ‚úÖ **48 passing tests** - comprehensive test coverage with FluentAssertions
- ‚úÖ **Multi-platform CI/CD** - automated testing on Ubuntu, Windows, and macOS
- ‚úÖ **.NET 10.0** support

### Download

```bash
dotnet add package TUnit.AutoFixture --version 1.0.0
dotnet add package TUnit.AutoFixture.NSubstitute --version 1.0.0
```

üì¶ [View on NuGet](https://www.nuget.org/packages/TUnit.AutoFixture/1.0.0)
üìù [Full Release Notes](RELEASE_NOTES.md)
üè∑Ô∏è [GitHub Release](https://github.com/kimlundjohansen/TUnit.AutoFixture/releases/tag/v1.0.0)

## Quick Start

### Installation

```bash
# Core library
dotnet add package TUnit.AutoFixture

# With NSubstitute support
dotnet add package TUnit.AutoFixture.NSubstitute
```

### Basic Usage

```csharp
using TUnit.AutoFixture;
using TUnit.Core;

public class MyTests
{
    [Test]
    [AutoData]
    public void Test_WithAutoGeneratedData(string text, int number, Person person)
    {
        // All parameters are automatically generated by AutoFixture
        text.Should().NotBeNull();
        number.Should().NotBe(0);
        person.Should().NotBeNull();
    }

    [Test]
    [InlineAutoData("explicit value", 42)]
    public void Test_CombiningExplicitAndAutoData(
        string explicitText,
        int explicitNumber,
        Person autoPerson)
    {
        // First two parameters use explicit values
        // Third parameter is auto-generated
        explicitText.Should().Be("explicit value");
        explicitNumber.Should().Be(42);
        autoPerson.Should().NotBeNull();
    }

    [Test]
    [AutoData]
    public void Test_FrozenParameters(
        [Frozen] IService service,
        Consumer consumer)
    {
        // The same IService instance is injected into Consumer
        consumer.Service.Should().BeSameAs(service);
    }
}
```

### With NSubstitute

```csharp
using TUnit.AutoFixture.NSubstitute;
using TUnit.Core;
using NSubstitute;

public class MyMockTests
{
    [Test]
    [AutoNSubstituteData]
    public void Test_WithAutoMocking(
        [Frozen] IRepository repository,
        Service sut)
    {
        // IRepository is automatically mocked
        repository.GetData().Returns("test data");

        var result = sut.ProcessData();

        result.Should().Be("test data");
        repository.Received(1).GetData();
    }
}
```

## Documentation

- **[TUnit.AutoFixture Documentation](TUnit.AutoFixture/README.md)** - Core library usage guide
- **[TUnit.AutoFixture.NSubstitute Documentation](TUnit.AutoFixture.NSubstitute/README.md)** - NSubstitute integration guide
- **[Release Notes](RELEASE_NOTES.md)** - Version history and changes

## Why TUnit.AutoFixture?

### xUnit Compatibility

If you're migrating from xUnit, you can use the **exact same attribute names**:

| xUnit.AutoFixture | TUnit.AutoFixture | Status |
|-------------------|-------------------|--------|
| `[AutoData]` | `[AutoData]` | ‚úÖ Identical |
| `[InlineAutoData]` | `[InlineAutoData]` | ‚úÖ Identical |
| `[Frozen]` | `[Frozen]` | ‚úÖ Identical |
| `Matching` enum | `Matching` enum | ‚úÖ Identical |

No need to learn new attribute names or refactor your tests!

### Simpler Architecture

| Aspect | Official AutoFixture.TUnit | TUnit.AutoFixture |
|--------|---------------------------|-------------------|
| Core Classes | 20+ internal classes | 6-8 core classes |
| Primary Attribute | `AutoDataSourceAttribute` | `AutoDataAttribute` |
| Inline Attribute | `AutoArgumentsAttribute` | `InlineAutoDataAttribute` |
| Learning Curve | Steeper | Gentler |
| Extensibility | Multiple extension points | Focused, essential points |

### Feature Parity

All core AutoFixture features are supported:

- ‚úÖ Auto-generation of primitives, complex types, collections, enums
- ‚úÖ Frozen parameters with 5 matching strategies (ExactType, ImplementedInterfaces, DirectBaseType, BaseType, MemberOfFamily)
- ‚úÖ Inline data combining explicit and auto-generated values
- ‚úÖ NSubstitute auto-mocking integration
- ‚úÖ Customization attributes
- ‚úÖ Complex dependency graphs

## Migration Guide

### From xUnit.AutoFixture

```csharp
// Before (xUnit)
using AutoFixture.Xunit2;
using Xunit;

public class MyTests
{
    [Theory]
    [AutoData]
    public void Test(string param) { }
}
```

```csharp
// After (TUnit)
using TUnit.AutoFixture;
using TUnit.Core;

public class MyTests
{
    [Test]  // Changed from [Theory]
    [AutoData]
    public void Test(string param) { }
}
```

The only change needed is:
1. Replace `[Theory]` with `[Test]`
2. Update using statements

All `[AutoData]`, `[InlineAutoData]`, and `[Frozen]` attributes work identically!

### From Official AutoFixture.TUnit

```csharp
// Before (Official AutoFixture.TUnit)
using AutoFixture.TUnit;

[Test]
[AutoDataSource]  // Different name
public void Test(string param) { }
```

```csharp
// After (TUnit.AutoFixture)
using TUnit.AutoFixture;

[Test]
[AutoData]  // xUnit-compatible name
public void Test(string param) { }
```

## Examples

See the [test project](TUnit.AutoFixture.UnitTests/Examples/) for comprehensive examples:

- **[BasicAutoDataTests.cs](TUnit.AutoFixture.UnitTests/Examples/BasicAutoDataTests.cs)** - Primitives, complex types, collections
- **[FrozenDependencyTests.cs](TUnit.AutoFixture.UnitTests/Examples/FrozenDependencyTests.cs)** - All 5 matching strategies
- **[InlineAutoDataTests.cs](TUnit.AutoFixture.UnitTests/Examples/InlineAutoDataTests.cs)** - Hybrid explicit/auto data
- **[AutoNSubstituteTests.cs](TUnit.AutoFixture.UnitTests/Examples/AutoNSubstituteTests.cs)** - Auto-mocking scenarios

## Requirements

- .NET 10.0 or later
- TUnit 1.10.0 or later
- AutoFixture 4.18.1 or later

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

### Building from Source

```bash
git clone https://github.com/kimlundjohansen/TUnit.AutoFixture.git
cd TUnit.AutoFixture
dotnet restore
dotnet build
dotnet test
```

All tests must pass with zero warnings before submitting a PR.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [AutoFixture](https://github.com/AutoFixture/AutoFixture) - The excellent fixture library
- [TUnit](https://github.com/thomhurst/TUnit) - Modern .NET testing framework
- [Official AutoFixture.TUnit](https://github.com/AutoFixture/AutoFixture.TUnit) - Inspiration and reference implementation

## Related Projects

- [Official AutoFixture.TUnit](https://github.com/AutoFixture/AutoFixture.TUnit) - Official AutoFixture organization implementation
- [AutoFixture.Xunit2](https://github.com/AutoFixture/AutoFixture) - xUnit integration
- [AutoFixture.NUnit3](https://github.com/AutoFixture/AutoFixture) - NUnit integration

---

**Note**: This is an independent implementation focused on xUnit compatibility and simplicity. For the official AutoFixture organization implementation, see [AutoFixture.TUnit](https://github.com/AutoFixture/AutoFixture.TUnit).
